<!DOCTYPE HTML>
<html>
  <head>
    <title>Theme Generator</title>
    <script src="./lib/jquery.1.10.2.js"></script>
    <script src="./lib/jquery-ui-1.10.3.custom.min.js"></script>
    <script src="./lib/colorpicker/spectrum.js"></script>
    <script src="./lib/FileSaver.js"></script>
    <script type="text/javascript" src="../app/framework/survey/js/shim.js"></script>
    <script type="text/javascript">
      var pageStack = [];
      function pushPageAndOpen(value) {
        var ps = document.getElementById('odk_view');
        // var customStyle = generateCustomStyles();
        // var customTheme = generateCustomTheme();
        var parent = ps.parentNode;
        ps.id = 'odk_view-' + pageStack.length;
        pageStack.push(ps.contentWindow.shim.refId);
        ps.style.display = 'none';
        var newIframe = document.createElement('iframe');
        newIframe.className = 'iframe-view';
        newIframe.setAttribute('name', 'odk_view');
        newIframe.id = 'odk_view';
        newIframe.src = value;
        parent.appendChild(newIframe);
        numWindows++;
        setTimeout(function(){
        addToIFrame(generateCustomStyles(), generateCustomTheme());
      },500);
      }
      function closeAndPopPage() {
        // this should remove the current iframe and raise the prior one to the foreground
        if ( pageStack.length > 0 ) {
          var priorRefId = pageStack.pop();
          numWindows--;
          var priorIframe = document.getElementById('odk_view-' + pageStack.length);
          var ps = document.getElementById('odk_view');
          var parent = ps.parentNode;
          priorIframe.style.display = 'block';
          parent.removeChild(ps); 
          priorIframe.id = 'odk_view';
          priorIframe.contentWindow.shim.refId = priorRefId;
          priorIframe.contentWindow.redrawHook();
        }
      }

    </script>
    <link rel='stylesheet' href='./lib/colorpicker/spectrum.css'/>
    <link rel='stylesheet' href='./lib/jquery-ui-1.10.3.custom.min.css'/>
    <link rel='stylesheet' href='./generateStyle.css'/>
    <script src="./themeGenerator.js"></script>
  </head>
  <body>
  <div id="iframe-size">
    <label>Select Screen Size:</label>
    <select id="select-screen-size" class="update-styles" name="select-screen-size">
    <option value="Google_Nexus_5"> Google Nexus 5 </option>
    <option value = "Samsung_Galaxy_S4"> Samsung Galaxy S4 </option>
    <option value = "Google_Nexus_7"> Google Nexus 7 </option>
    </select>
  </div>
  <div id="toolbar" class="accordion ui-widget-content">
    <h3>General</h3>
    <div class="toobar-section">
      <div class='nowrap'>
        <label for="background-color">Background</label>
        <div class="pull-right">
          <input id='background-color' type="text" class="colorpicker update-styles" name="background-color" value="white"></input>
        </div>
      </div>
      <div class='nowrap'>
        <label for="font-color">Text</label>
        <div class="pull-right">
          <input id='font-color' type="text" class="colorpicker update-styles" name="font-color" value="#000"></input>
        </div>
      </div>
      <div class='nowrap'>
        <label for="font-family">Font</label>
        <div class="pull-right">
          <select id="select-font-family" class="update-styles" name="select-font-family">
          <option> Serif </option>
          <option> Arial </option>
          <option> Sans-Serif </option>                                  
          <option> Tahoma </option>
          <option> Verdana </option>
          <option> Lucida Sans Unicode </option>                               
          </select>
        </div>
      </div>
    </div>
    <h3>Select Button Styles </h3>
    <div class="toolbar-section">
      <div class= "nowrap">
        <label for="button-text-color">Text Color</label>
        <div class="pull-right">
          <input id='button-text-color' type="text" class="colorpicker update-styles" name="button-text-color" value="#000"></input>
        </div>
      </div>
      <div class="nowrap"> 
        <label for="button-color">Color</label>
        <div class="pull-right">
          <input id='button-color' type="text" class="colorpicker update-styles" name="button-color" value="#fafafa"></input>
        </div>
      </div>
      <div class="nowrap">
        <label for="button-selected-color">Selected color</label>
        <div class="pull-right">
          <input id='button-selected-color' type="text" class="colorpicker update-styles" name="button-selected-color" value="#fafafa"></input>
        </div>
      </div>  
      <div class="nowrap">
        <label for="button-border-color">Border color</label>
        <div class="pull-right">
          <input id='button-border-color' type="text" class="colorpicker update-styles" name="button-border-color" value="#bbb"></input>
        </div>
      </div>
      <div class="nowrap">
        <label for="button-radius">Rounded Edges</label>
        <div class="pull-right">
          <input id='button-radius' type="text" class="numberslider update-styles" name="button-radius" value="13px"></input>
        </div>  
      </div>
      <div class="nowrap">
        <label for="button-height">Button Height</label>
        <div class="pull-right">
          <input id='button-height' type="text" class="numberslider update-styles" name="button-height" value="50px"></input>
        </div>  
      </div>
      <div class="nowrap">
        <label for="button-height">Button Text Size</label>
        <div class="pull-right">
          <input id='button-text-size' type="text" class="numberslider update-styles" name="button-text-size" value="16px"></input>
        </div>  
      </div>
    </div>
        <h3>Other Button Styles </h3>
    <div class="toolbar-section">
      <div class= "nowrap">
        <label for="other-button-text-color">Text Color</label>
        <div class="pull-right">
          <input id='other-button-text-color' type="text" class="colorpicker update-styles" name="other-button-text-color" value="#000"></input>
        </div>
      </div>
      <div class="nowrap"> 
        <label for="other-button-color">Color</label>
        <div class="pull-right">
          <input id='other-button-color' type="text" class="colorpicker update-styles" name="other-button-color" value="#fafafa"></input>
        </div>
      </div>
      <div class="nowrap">
        <label for="other-button-selected-color">Selected color</label>
        <div class="pull-right">
          <input id='other-button-selected-color' type="text" class="colorpicker update-styles" name="other-button-selected-color" value="#fafafa"></input>
        </div>
      </div>  
      <div class="nowrap">
        <label for="other-button-border-color">Border color</label>
        <div class="pull-right">
          <input id='other-button-border-color' type="text" class="colorpicker update-styles" name="other-button-border-color" value="#bbb"></input>
        </div>
      </div>
      <div class="nowrap">
        <label for="other-button-radius">Rounded Edges</label>
        <div class="pull-right">
          <input id='other-button-radius' type="text" class="numberslider update-styles" name="other-button-radius" value="13px"></input>
        </div>  
      </div>
      <div class="nowrap">
        <label for="other-button-height">Button Height</label>
        <div class="pull-right">
          <input id='other-button-height' type="text" class="numberslider update-styles" name="other-button-height" value="50px"></input>
        </div>  
      </div>
      <div class="nowrap">
        <label for="other-button-height">Button Text Size</label>
        <div class="pull-right">
          <input id='other-button-text-size' type="text" class="numberslider update-styles" name="other-button-text-size" value="16px"></input>
        </div>  
      </div>
    </div>
    <h3>Navbar Styles</h3>
    <div>
      <div class='nowrap'>
        <label for="navbar-background-color">Background</label>
        <div class="pull-right">
          <input id='navbar-background-color' type="text" class="colorpicker update-styles" name="navbar-background-color" value="#f0f0f0"></input>
        </div>
      </div>
      <div class='nowrap'>
        <label for="navbar-button-color">Button Color</label>
        <div class="pull-right">
          <input id='navbar-button-color' type="text" class="colorpicker update-styles" name="navbar-button-color" value="#fafafa"></input>
        </div>
      </div>
      <div class='nowrap'>
        <label for="navbar-button-selected-color">Button selected Color</label>
        <div class="pull-right">
          <input id='navbar-button-selected-color' type="text" class="colorpicker update-styles" name="navbar-button-selected-color" value="#f6f6f6"></input>
        </div>
      </div>
      <div class='nowrap'>
        <label for="navbar-font-color">Font Color</label>
        <div class="pull-right">
          <input id='navbar-font-color' type="text" class="colorpicker update-styles" name="navbar-font-color" value="#000000"></input>
        </div>
      </div>
    </div>
    <h3>Finish</h3>
    <div>
      <p>Press the two buttons below to generate the neccesary CSS files</p> 
      <button id="generateTheme">Generate Themes</button>
      <br/>
      <button id="generateStyles">Generate Styles</button>
    </div>
  </div>
      
     <iframe id="odk_view" 
      src='../app/framework/index.html?' class="iframe-view"
      >
    </iframe>
  </body>
</html>
